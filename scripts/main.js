"use strict";!function(e,a,t){var s={client:null,helper:null,searchBox:null,searchResultsContainer:null,searchFacetsContainer:null,searchResultTemplate:null,searchFacetTemplate:null,facetMap:{author:"Authors",compatibility:"Compatibility",category:"Categories",maintenance_status:"Maintenance Status",development_status:"Development Status",project_type:"Project Type"},init:function(){this.client=t("A644RMPSD6","392ee956e285f537ee958f9f395c0253"),this.helper=algoliasearchHelper(this.client,"prod_drupal_modules",{facets:Object.keys(this.facetMap)}),this.helper.on("result",this.handleResults),this.searchResultTemplate=a.compile(e("#searchResultTemplate").html()),this.searchFacetTemplate=a.compile(e("#searchFacetTemplate").html()),this.searchSummaryTemplate=a.compile(e("#searchSummaryTemplate").html()),this.searchResultsContainer=e("#searchResults"),this.searchFacetsContainer=e("#searchFacets"),this.searchSummaryContainer=e("#searchSummary"),this.searchFacetsContainer.on("click","[data-facet-key]",function(a){a.stopPropagation();var t=e(a.currentTarget),r=t.data("facet-key"),n=t.data("facet-value");s.helper.setPage(0),s.helper.toggleRefine(r,n).search()}),this.searchBox=e("#searchbox"),this.searchBox.on("keyup",function(e){""!==e.currentTarget.value?(s.helper.setQuery(e.currentTarget.value).search(),s.eventTrack("searchbox","search",e.currentTarget.value)):s.searchResultsContainer.empty()})},eventTrack:function(e,a,t,s){"undefined"!=typeof ga&&ga("send","event",e,a,t,s)},handleResults:function(a){s.searchResultsContainer.empty(),s.searchFacetsContainer.empty(),s.searchSummaryContainer.html(s.searchSummaryTemplate({hits:a.nbHits,time:a.processingTimeMS})),e.each(a.hits,function(e,a){s.searchResultsContainer.append(s.searchResultTemplate(a))}),e.each(a.facets,function(e,a){var t={key:a.name,name:s.facetMap[a.name],items:[],isRefined:!1};for(var r in a.data){var n={name:r,count:a.data[r],refined:s.helper.isRefined(a.name,r)};t.isRefined|=n.refined,t.items.push(n)}s.searchFacetsContainer.append(s.searchFacetTemplate(t))}),s.searchFacetsContainer.collapse()}};s.init(),e("#menu-toggle").click(function(a){a.preventDefault(),e("#wrapper").toggleClass("toggled")})}(jQuery,Handlebars,algoliasearch);